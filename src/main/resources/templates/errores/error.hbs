{{#partial "contenido"}}
    <div class="container d-flex justify-content-center align-items-center"
         style="min-height: 85vh;">

        <div class="card border-0 shadow-lg p-4 p-md-5 bg-white bg-opacity-90 animate-fade-in"
             style="max-width: 800px; border-radius: 20px;">

            <div class="text-center">
                <div class="mb-4">
                    <div class="rounded-circle bg-danger bg-opacity-10 d-inline-flex justify-content-center align-items-center"
                         style="width: 100px; height: 100px;">
                        <i class="fa-solid fa-triangle-exclamation fa-3x text-danger"></i>
                    </div>
                </div>

                <h6 class="text-uppercase text-muted fw-bold ls-2 mb-2">
                    Error {{#if errorStatus}}{{errorStatus}}{{else}}Inesperado{{/if}}
                </h6>

                <h2 class="fw-bold text-dark mb-3">
                    {{#if errorTitle}}{{errorTitle}}{{else}}Algo salió mal{{/if}}
                </h2>

                <p class="text-secondary mb-4">
                    {{#if errorMessage}}
                        {{errorMessage}}
                    {{else}}
                        Se ha producido un error inesperado al procesar tu solicitud.
                    {{/if}}
                </p>
            </div>

            {{#if showDetails}}
                {{#if errorDetails}}
                    <div class="accordion mb-4 text-start" id="accordionError">
                        <div class="accordion-item border-0 shadow-sm">
                            <h2 class="accordion-header" id="headingTrace">
                                <button class="accordion-button collapsed bg-light text-secondary small py-2"
                                        type="button"
                                        data-bs-toggle="collapse" data-bs-target="#collapseTrace"
                                        aria-expanded="false">
                                    <i class="fa-solid fa-bug me-2 text-danger"></i> Detalles
                                    Técnicos (Debug)
                                </button>
                            </h2>
                            <div id="collapseTrace" class="accordion-collapse collapse"
                                 aria-labelledby="headingTrace"
                                 data-bs-parent="#accordionError">
                                <div class="accordion-body bg-dark rounded-bottom p-0">
                            <pre class="m-0 p-3 text-warning font-monospace small"
                                 style="max-height: 300px; overflow-y: auto; font-size: 11px; white-space: pre-wrap;"><code>{{errorDetails}}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                {{/if}}
            {{/if}}

            <div class="d-grid gap-2 d-sm-flex justify-content-center mt-4">
                <a href="/" class="btn btn-primary rounded-pill px-4 fw-bold shadow-sm">
                    <i class="fa-solid fa-house me-2"></i> Ir al Inicio
                </a>

                <button onclick="window.location.reload()"
                        class="btn btn-outline-secondary rounded-pill px-4 fw-bold">
                    <i class="fa-solid fa-rotate-right me-2"></i> Reintentar
                </button>

                <button onclick="history.back()"
                        class="btn btn-link text-muted text-decoration-none">
                    Volver atrás
                </button>
            </div>

            <div class="mt-4 pt-3 border-top border-light text-center">
                <small class="text-muted fst-italic">
                    <span class="font-monospace">{{timestamp}}</span>
                </small>
            </div>
        </div>
    </div>

    <style>
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scrollbar estilizado para el código */
        pre::-webkit-scrollbar {
            width: 8px;
        }

        pre::-webkit-scrollbar-track {
            background: #212529;
        }

        pre::-webkit-scrollbar-thumb {
            background: #6c757d;
            border-radius: 4px;
        }

        pre::-webkit-scrollbar-thumb:hover {
            background: #495057;
        }
    </style>
{{/partial}}

{{> templates/layout}}