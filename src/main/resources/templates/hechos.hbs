{{#partial "contenido"}}

    <!-- Fondo con imagen -->
    <div class="container-sm py-4 mx-auto">

        <div class="bg-white bg-opacity-75 p-3 rounded">

            <h2 class="fw-bold mb-3 text-center">
                <i class="fa-solid fa-map-location-dot me-2"></i>
                Hechos registrados
            </h2>

            <form class="mb-3" action="/api/hechos" method="get">
                <div class="input-group input-group-sm">
                    <input type="text" class="form-control"
                           placeholder="Buscar hechos..." name="q">
                    <button class="btn btn-primary" type="submit">
                        <i class="fa-solid fa-search"></i>
                    </button>
                </div>
            </form>

            <div class="list-group">
                {{#each hechos}}
                    <a href="/hechos/{{id}}" class="list-group-item list-group-item-action py-2">
                        <h6 class="fw-bold text-dark mb-1">{{titulo}}</h6>
                        <p class="mb-1 text-muted small">{{descripcion}}</p>

                        <div class="mb-1">
                            <span class="badge bg-info text-dark">{{categoria}}</span>
                            {{#each etiquetas}}
                                <span class="badge bg-secondary">{{nombre}}</span>
                            {{/each}}
                        </div>

                        <div class="small text-muted">
                            <i class="fa-regular fa-clock"></i> {{fechasuceso}} <br>
                            <i class="fa-solid fa-location-dot"></i> {{provincia}} â€” {{direccion}}
                        </div>
                    </a>
                {{/each}}
            </div>

            <nav class="mt-3">
                <ul class="pagination pagination-sm justify-content-center">

                    {{#if (gt paginaActual 1)}}
                        <li class="page-item">
                            <a class="page-link" href="/api/hechos?page={{subtract paginaActual 1}}">Anterior</a>
                        </li>
                    {{/if}}

                    {{#each (range 1 totalPaginas)}}
                        <li class="page-item {{#if (eq this ../paginaActual)}}active{{/if}}">
                            <a class="page-link" href="/api/hechos?page={{this}}">{{this}}</a>
                        </li>
                    {{/each}}

                    {{#if (lt paginaActual totalPaginas)}}
                        <li class="page-item">
                            <a class="page-link" href="/api/hechos?page={{add paginaActual 1}}">Siguiente</a>
                        </li>
                    {{/if}}

                </ul>
            </nav>

        </div>
    </div>

{{/partial}}

{{> templates/layout}}
